---

# This file holds all the cleartext variables for our infrastructure

docker_apt_key_url: 'https://download.docker.com/linux/ubuntu/gpg'
docker_repo_url: 'https://download.docker.com/linux/ubuntu'
node_arch: 'amd64'

tld: 'zuh0.com'
admin_email: 'gabriel@zuh0.com'
default_network: 'sadm-net'
gitlab_pages_hosts:
  - 'zuh0.com'
  - 'pages.zuh0.com'
  - 'zuh0.pages.zuh0.com'
networks:
  - 'sadm-net'
containers:
  traefik:
    name: 'traefik'
    image: 'docker.io/traefik:latest'
  files:
    name: 'files'
    image: 'docker.io/dutchcoders/transfer.sh:latest'
  paste:
    name: 'paste'
    image: 'docker.io/privatebin/nginx-fpm-alpine:latest'
  gitlab:
    name: 'gitlab'
    image: 'docker.io/gitlab/gitlab-ee:latest'
  gitlab_runner:
    name: 'gitlab-runner'
    image: 'docker.io/gitlab/gitlab-runner:latest'
  wireguard:
    name: 'wireguard'
    image: 'registry.zuh0.com/zuh0/wg-container'
base_dir: '/sadm'
generated_dir: '/generated'
persistent_dir: '/persistent'
volatile_dir: '/volatile'
volumes:
  prefix: '/volume'
  default:
    owner: 'root'
    group: 'root'
    mode: '0700'

  generated:
    # For Traefik
    - path: '/traefik/static'
    - path: '/traefik/dynamic'

  persistent:
    # For Traefik
    - path: '/traefik/data'

    # For Gitlab server
    - path: '/gitlab/config'
      mode: '0775'
    - path: '/gitlab/log'
      mode: '0755'
    - path: '/gitlab/data'
      mode: '0777'

    # For Gitlab runner
    - path: '/gitlab-runner/config'

    # For Wireguard
    - path: '/wireguard/data'

  volatile:
    # For transfer.sh
    - path: '/files/data'

    # For Privatebin
    - path: '/paste/data'
      owner: '65534'
      group: '82'
